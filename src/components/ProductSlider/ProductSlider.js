import React, { useState, useEffect, useRef } from "react";
import { register } from "swiper/element/bundle";
import { Group, CardScroll, Card } from "@vkontakte/vkui";
import { Swiper, SwiperSlide } from "swiper/react";
import "swiper/css";
import "./ProductSlider.css";

const ProductSlider = ({ products = [] }) => {
  const clickOnProduct = (e) => {
    const id = e.currentTarget.dataset.id;

    setProductId(id);
    go({ panelName: "product", productId: id });
  };

  useEffect(() => {}, []);

  console.log(products);

  return (
    <Swiper
      slidesPerView={1}
      spaceBetween={10}
      breakpoints={{
        850: {
          slidesPerView: 4,
          spaceBetween: 10,
        },
        660: {
          slidesPerView: 3,
          spaceBetween: 10,
        },
        450: {
          slidesPerView: 2,
          spaceBetween: 10,
        },
        400: {
          slidesPerView: 1.5,
          spaceBetween: 10,
        },
      }}
    >
      {products.map((item, key) => (
        <SwiperSlide key={key}>
          <div className="item">
            <div className="item-flag absolute right-0">
              <svg
                width="68"
                height="72"
                viewBox="0 0 68 72"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <g filter="url(#filter0_d_1398_105)">
                  <path
                    d="M88.6735 42.4603L25.2132 -21L14.6066 -10.3934L78.0669 53.0669L88.6735 42.4603Z"
                    fill="white"
                  />
                  <path
                    d="M78.0669 53.0669L14.6066 -10.3934L3.99999 0.213203L67.4602 63.6735L78.0669 53.0669Z"
                    fill="#D52B1E"
                  />
                  <path
                    d="M81.6024 49.5313L18.1421 -13.9289L11.0711 -6.85786L74.5313 56.6024L81.6024 49.5313Z"
                    fill="#0039A6"
                  />
                </g>
                <defs>
                  <filter
                    id="filter0_d_1398_105"
                    x="0"
                    y="-21"
                    width="92.6735"
                    height="92.6735"
                    filterUnits="userSpaceOnUse"
                    color-interpolation-filters="sRGB"
                  >
                    <feFlood flood-opacity="0" result="BackgroundImageFix" />
                    <feColorMatrix
                      in="SourceAlpha"
                      type="matrix"
                      values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                      result="hardAlpha"
                    />
                    <feOffset dy="4" />
                    <feGaussianBlur stdDeviation="2" />
                    <feComposite in2="hardAlpha" operator="out" />
                    <feColorMatrix
                      type="matrix"
                      values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"
                    />
                    <feBlend
                      mode="normal"
                      in2="BackgroundImageFix"
                      result="effect1_dropShadow_1398_105"
                    />
                    <feBlend
                      mode="normal"
                      in="SourceGraphic"
                      in2="effect1_dropShadow_1398_105"
                      result="shape"
                    />
                  </filter>
                </defs>
              </svg>
            </div>
            <div className="item-logo">
              <svg
                width="52"
                height="50"
                viewBox="0 0 52 50"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <rect width="51.4235" height="50" rx="4" fill="#F14F6B" />
                <path
                  d="M34.4156 44.9595C33.8903 44.8625 33.4808 44.6793 33.0685 44.3567C32.4291 43.8564 32.0058 43.1609 31.8632 42.3762C31.7896 41.9716 31.7949 41.6354 31.8814 41.2165C32.1089 40.1142 32.9519 39.1708 34.0233 38.8192C34.4787 38.6698 35.2118 38.6461 35.7101 38.7647C36.3694 38.9215 37.0278 39.3211 37.4278 39.807C37.5295 39.9305 37.6127 40.0461 37.6127 40.0639C37.6127 40.0988 36.7087 40.8855 36.6685 40.8855C36.6552 40.8855 36.5718 40.7996 36.4832 40.6945C36.3946 40.5895 36.2218 40.4369 36.099 40.3554C35.1033 39.6945 33.8066 40.0493 33.3018 41.1209C33.2087 41.3184 33.2001 41.3798 33.1999 41.8474C33.1995 42.3477 33.2022 42.3635 33.331 42.6252C33.4994 42.9673 33.8292 43.3046 34.152 43.4649C34.949 43.8605 35.9442 43.6538 36.4944 42.9783V42.9783C36.5884 42.863 36.7594 42.8489 36.8709 42.9474L37.1385 43.1838C37.6066 43.5971 37.61 43.6013 37.5556 43.7043C37.4712 43.864 36.953 44.3524 36.6958 44.5146C36.163 44.8508 35.6209 45.0063 35.004 44.9998C34.7883 44.9975 34.5235 44.9794 34.4156 44.9595ZM8.91188 44.9224C8.7146 44.9048 8.43773 44.8637 8.29662 44.8309C8.01901 44.7665 7.05583 44.429 7.00103 44.3769C6.97558 44.3527 7.43012 43.4425 7.50828 43.3611C7.51642 43.3526 7.74857 43.4351 8.02417 43.5443C8.66017 43.7964 8.93096 43.8382 9.81976 43.8214L10.237 43.8135C10.4268 43.8099 10.613 43.7609 10.78 43.6707V43.6707C11.0829 43.5071 11.2124 43.3376 11.2124 43.1048C11.2124 42.7174 10.9559 42.5958 9.55339 42.318C7.75217 41.9611 7.20356 41.6308 7.0554 40.8137C6.90558 39.9875 7.53336 39.2382 8.64515 38.9163C8.92572 38.8351 9.03684 38.8262 9.76092 38.8269C10.534 38.8277 10.584 38.8325 11.0554 38.9523C11.7163 39.1203 11.9803 39.2162 11.9647 39.2825C11.9243 39.4547 11.5853 40.1893 11.5379 40.2075C11.5067 40.2195 11.3262 40.1817 11.1369 40.1236C10.6245 39.9665 10.2295 39.9077 9.67459 39.9062C8.73525 39.9036 8.33089 40.0839 8.33089 40.5052C8.33089 40.636 8.35416 40.6808 8.47761 40.7875C8.65975 40.945 8.82999 40.9986 9.83938 41.2166C10.8039 41.4249 11.212 41.5488 11.6071 41.7531C11.9456 41.9282 12.1923 42.1475 12.3204 42.3874C12.3996 42.5355 12.4088 42.608 12.4088 43.0823C12.4088 43.6006 12.4061 43.6175 12.2808 43.8735C11.8722 44.7087 10.6792 45.0802 8.91188 44.9224ZM14.8877 44.7809C14.8488 44.7708 14.8025 44.7243 14.7849 44.6775C14.6645 44.3571 13.1696 38.9522 13.1881 38.9041C13.2079 38.8526 13.3021 38.8453 13.8272 38.8545V38.8545C14.192 38.8609 14.5085 39.1079 14.6034 39.4601L14.866 40.4344C15.526 42.8839 15.5759 43.0562 15.6072 42.9984C15.6231 42.969 15.8966 42.0505 16.215 40.9572C16.5335 39.8639 16.8069 38.9485 16.8226 38.923C16.8421 38.8916 17.0195 38.8748 17.3732 38.871V38.871C17.6819 38.8676 17.9554 39.0697 18.0429 39.3658L18.0863 39.5126C18.8106 41.9638 19.1094 42.9494 19.1373 42.9791C19.1744 43.0186 19.1505 43.0981 19.6122 41.3955C19.8082 40.6727 20.043 39.8078 20.1341 39.4733L20.15 39.4148C20.2387 39.0891 20.5316 38.8609 20.8691 38.8545V38.8545C21.1823 38.8485 21.474 38.8574 21.5175 38.8741C21.5929 38.9032 21.5599 39.0326 20.7846 41.7486C20.338 43.3128 19.9607 44.6411 19.946 44.7005V44.7005C19.9304 44.7638 19.8736 44.8083 19.8083 44.8082L19.4985 44.8079C19.267 44.8079 18.9349 44.7966 18.7606 44.783V44.783C18.5702 44.7682 18.4093 44.6361 18.3576 44.4523L17.9851 43.1259C17.733 42.2282 17.4944 41.3877 17.4549 41.2582V41.2582C17.4329 41.1863 17.3313 41.1856 17.3085 41.2573L17.202 41.5916C17.0471 42.0782 16.4498 44.1297 16.314 44.6416V44.6416C16.2879 44.7398 16.1988 44.8078 16.0972 44.8071L15.6142 44.8038C15.2536 44.8013 14.9267 44.791 14.8877 44.7809ZM23.0592 41.8212V39.4843C23.0592 39.1287 23.3536 38.8438 23.709 38.8556V38.8556C24.0664 38.8674 24.3678 38.886 24.3787 38.8969C24.3897 38.9079 24.409 40.2424 24.4216 41.8626L24.4392 44.1157C24.4421 44.4973 24.1335 44.8083 23.7519 44.8083V44.8083V44.8083C23.3693 44.8083 23.0592 44.4982 23.0592 44.1156V41.8212ZM27.7273 42.4743V41.0817C27.7273 40.5617 27.3058 40.1402 26.7858 40.1402V40.1402H26.4916C26.1341 40.1402 25.8443 39.8504 25.8443 39.493V39.493V39.493C25.8443 39.1355 26.1341 38.8457 26.4916 38.8457H27.2502C28.0234 38.8457 29.1624 38.8574 29.7813 38.8716L30.2952 38.8835C30.6334 38.8913 30.9018 39.1708 30.8959 39.5091V39.5091V39.5091C30.8899 39.8506 30.6151 40.1263 30.2737 40.1336L29.9633 40.1402V40.1402C29.4504 40.1511 29.0396 40.5689 29.0374 41.0819L29.0313 42.4841L29.024 44.1614C29.0224 44.5191 28.732 44.8083 28.3742 44.8083V44.8083V44.8083C28.0169 44.8083 27.7273 44.5187 27.7273 44.1614V42.4743ZM38.9857 41.827V39.4733C38.9857 39.1267 39.2667 38.8457 39.6133 38.8457V38.8457V38.8457C39.9599 38.8457 40.241 39.1267 40.241 39.4733V40.0225V40.0225C40.241 40.6725 40.7678 41.1994 41.4178 41.1994H41.6139H41.8101C42.46 41.1994 42.9869 40.6725 42.9869 40.0225V40.0225V39.2086C42.9869 39.0082 43.1494 38.8459 43.3498 38.8461V38.8461C43.5493 38.8461 43.8318 38.8576 43.9774 38.8714V38.8714C44.1275 38.8856 44.2422 39.0116 44.2422 39.1624V41.8524V44.1808C44.2422 44.5274 43.9612 44.8084 43.6145 44.8084V44.8084V44.8084C43.2679 44.8084 42.9869 44.5274 42.9869 44.1808V43.6316V43.6316C42.9869 42.9817 42.46 42.4548 41.8101 42.4548H41.6139H41.4178C40.7678 42.4548 40.241 42.9817 40.241 43.6316V43.6316V44.1808C40.241 44.5274 39.9599 44.8084 39.6133 44.8084V44.8084V44.8084C39.2667 44.8084 38.9857 44.5274 38.9857 44.1808V41.8271V41.827ZM42.2718 37.2631C41.6328 37.0453 41.2477 36.5996 41.1361 35.9488C40.9806 35.0419 41.5878 34.184 42.506 34.0133C42.79 33.9604 43.219 34.0375 43.5538 34.2014C43.8535 34.3482 44.2061 34.7269 44.3235 35.0282C44.439 35.3245 44.4512 35.9814 44.3464 36.2567C44.0266 37.0971 43.1016 37.5458 42.2718 37.2631ZM43.2101 36.5374C43.6005 36.3383 43.7932 35.9219 43.7004 35.4776C43.6378 35.1779 43.4843 34.971 43.2216 34.8326C43.0279 34.7305 42.9782 34.721 42.7226 34.7367C42.3538 34.7594 42.1226 34.8943 41.9616 35.1806C41.7419 35.5713 41.775 35.9597 42.0551 36.278C42.3735 36.6397 42.8152 36.7389 43.2101 36.5374ZM7.21111 35.6935V34.4424C7.21111 34.2531 7.36504 34.0998 7.55436 34.1007V34.1007V34.1007C7.77048 34.1017 7.97359 34.2041 8.10278 34.3774L8.64293 35.1019L8.78978 35.2988C8.98316 35.5582 9.39535 35.4238 9.39873 35.1003V35.1003L9.40572 34.4319C9.40765 34.2476 9.55763 34.0991 9.74197 34.0991V34.0991V34.0991C9.92576 34.0991 10.0747 34.2481 10.0747 34.4319V35.6658V37.064C10.0747 37.1609 10.0039 37.2432 9.90803 37.2575V37.2575C9.81633 37.2713 9.67186 37.2768 9.58698 37.2697C9.43425 37.2571 9.4249 37.2465 8.68474 36.245L8.52672 36.0312C8.33233 35.7681 7.91518 35.8981 7.90454 36.225V36.225C7.88678 36.7706 7.86608 37.2231 7.85854 37.2306C7.851 37.2382 7.70225 37.2541 7.52797 37.2661V37.2661C7.3566 37.2778 7.21111 37.142 7.21111 36.9702V35.6935ZM12.4676 35.6879V34.4326C12.4676 34.2484 12.6169 34.0991 12.8011 34.0991V34.0991V34.0991C12.9852 34.0991 13.1345 34.2484 13.1345 34.4326V35.6879V36.9431C13.1345 37.1273 12.9852 37.2766 12.8011 37.2766V37.2766V37.2766C12.6169 37.2766 12.4676 37.1273 12.4676 36.9431V35.6879ZM15.6217 37.2497C15.544 37.2344 15.5381 37.2011 15.5138 36.6408C15.4755 35.7543 15.4829 34.3143 15.5264 34.1998C15.5631 34.1034 15.5778 34.0992 15.8697 34.1007V34.1007C16.0617 34.1017 16.2422 34.1929 16.3569 34.3469L16.9004 35.0762L17.5283 35.9188C17.565 35.968 17.6427 35.9491 17.6526 35.8886V35.8886C17.6672 35.7998 17.6804 35.3608 17.682 34.9131L17.6838 34.4326C17.6844 34.2482 17.834 34.0991 18.0184 34.0991V34.0991V34.0991C18.2025 34.0991 18.3518 34.2484 18.3518 34.4326V35.6879V36.9708C18.3518 37.1397 18.2149 37.2766 18.046 37.2766V37.2766V37.2766C17.8535 37.2766 17.6724 37.1857 17.5573 37.0314L16.9574 36.2272L16.8021 36.0191C16.5994 35.7474 16.1676 35.8883 16.1642 36.2272V36.2272L16.156 37.0516C16.1548 37.1754 16.0526 37.2742 15.9289 37.2712V37.2712C15.8052 37.2683 15.6669 37.2586 15.6217 37.2497ZM21.6077 36.0213V35.3013C21.6077 35.0057 21.3681 34.766 21.0724 34.766V34.766H20.8357C20.675 34.766 20.5487 34.6285 20.5622 34.4684V34.4684C20.5761 34.3047 20.5973 34.1547 20.6095 34.135C20.6222 34.1145 21.2021 34.0991 21.9631 34.0991H22.9611C23.1452 34.0991 23.2945 34.2484 23.2945 34.4326V34.4326V34.4326C23.2945 34.6167 23.1452 34.766 22.9611 34.766H22.7846V34.766C22.5029 34.766 22.2746 34.9943 22.2746 35.276V36.0213V36.9431C22.2746 37.1273 22.1253 37.2766 21.9412 37.2766V37.2766V37.2766C21.757 37.2766 21.6077 37.1273 21.6077 36.9431V36.0213ZM25.5697 35.6879V35.3348C25.5697 34.6524 26.123 34.0991 26.8054 34.0991V34.0991H27.8695C27.9643 34.0991 28.0411 34.176 28.0411 34.2708V34.2708C28.0411 34.3651 28.0301 34.4975 28.0166 34.565V34.565C28.0023 34.6363 27.9397 34.6876 27.867 34.6876L27.3595 34.6879C27.0116 34.6879 26.6071 34.6995 26.4606 34.7134V34.7134C26.3112 34.7275 26.1988 34.8558 26.2045 35.0059L26.2056 35.0367V35.0367C26.212 35.2038 26.3482 35.3366 26.5154 35.3387L27.0506 35.3455L27.6112 35.3526C27.7625 35.3546 27.8842 35.4778 27.8842 35.6291V35.6291V35.6291C27.8842 35.7805 27.7625 35.9037 27.6112 35.9056L27.0506 35.9128L26.58 35.9187C26.377 35.9213 26.212 36.0833 26.2057 36.2862V36.2862V36.2862C26.1995 36.4847 26.3588 36.6491 26.5575 36.6491H27.1178H27.7273C27.9006 36.6491 28.0411 36.7896 28.0411 36.9629V36.9629V36.9629C28.0411 37.1362 27.9006 37.2767 27.7273 37.2767H26.8054V37.2767C26.123 37.2767 25.5697 36.7235 25.5697 36.041V35.688V35.6879ZM30.7376 37.2484V37.2484C30.6754 37.239 30.6295 37.1854 30.63 37.1225L30.6395 35.6754L30.6477 34.4328C30.6488 34.2573 30.7882 34.1139 30.9636 34.1078V34.1078V34.1078C31.1602 34.1009 31.3478 34.1906 31.4661 34.3479L32.0227 35.0885L32.1729 35.2883C32.3661 35.5453 32.7751 35.4111 32.7785 35.0896V35.0896L32.7853 34.4515C32.7873 34.2563 32.9462 34.0991 33.1414 34.0991V34.0991V34.0991C33.336 34.0991 33.4938 34.2569 33.4938 34.4515V35.6879V36.953C33.4938 37.1315 33.3486 37.276 33.1701 37.2752V37.2752V37.2752C32.9665 37.2743 32.7751 37.1774 32.654 37.0137L32.0718 36.2269L31.9206 36.0226C31.7223 35.7546 31.297 35.8949 31.297 36.2282V36.2282V37.0509C31.297 37.1746 31.1951 37.2739 31.0714 37.2707V37.2707C30.9474 37.2675 30.7971 37.2575 30.7376 37.2484ZM36.1612 35.6832L36.1612 34.9135C36.1612 34.457 36.5385 34.0908 36.9948 34.1044V34.1044C37.8964 34.1313 38.0223 34.1562 38.3313 34.3688C38.8517 34.7269 39.1421 35.373 39.0311 35.9258C38.9359 36.4 38.6894 36.7657 38.3134 36.9905C37.975 37.193 37.7194 37.2427 36.8968 37.266V37.266C36.494 37.2774 36.1613 36.954 36.1612 36.5511L36.1612 35.6832ZM37.514 36.5707C37.514 36.5708 37.5141 36.5708 37.5141 36.5708C38.0271 36.4868 38.3051 36.2156 38.3465 35.7587C38.3632 35.5744 38.3497 35.4869 38.2793 35.3233C38.1065 34.9216 37.7925 34.766 37.1544 34.766V34.766C36.9526 34.766 36.7889 34.9297 36.7889 35.1315V35.6879V36.3645C36.7889 36.4999 36.8987 36.6095 37.0341 36.6093V36.6093C37.1689 36.6093 37.3848 36.5918 37.5139 36.5707C37.514 36.5707 37.514 36.5707 37.514 36.5707V36.5707ZM19.4306 30.2157C18.4994 30.1858 18.1485 30.1177 17.4017 29.8218C15.3666 29.0157 13.9889 27.4707 13.4082 25.3436C13.304 24.9618 13.2823 24.7967 13.2518 24.1549C13.2022 23.1119 13.204 11.7512 13.2539 11.018C13.3193 10.0567 13.4808 9.4643 13.9183 8.58143C14.7667 6.86941 16.2778 5.67425 18.2437 5.16043V5.16043C18.5108 5.0906 18.7858 5.05474 19.0619 5.05368L21.9608 5.04261C24.083 5.03451 25.2967 5.0438 25.3344 5.06843C25.3865 5.10249 25.3932 6.5405 25.3932 17.62C25.3932 27.8324 25.3838 30.1426 25.3422 30.1842C25.3015 30.2249 24.7833 30.2359 22.7728 30.2387C21.3877 30.2406 19.8837 30.2303 19.4306 30.2157ZM23.3338 17.6368V8.97114C23.3338 7.89731 22.4559 7.03069 21.3822 7.0445V7.0445C20.3088 7.05831 19.2639 7.08896 19.0602 7.11262C18.5834 7.16799 18.1515 7.3045 17.6835 7.54773C16.5773 8.1226 15.7873 9.08966 15.4288 10.3077V10.3077C15.3598 10.5418 15.3234 10.7843 15.3205 11.0283L15.2888 13.6614C15.2515 16.7583 15.2751 22.6305 15.3302 23.9784C15.3577 24.652 15.3742 24.7831 15.4685 25.0767C15.8527 26.2735 16.6244 27.1824 17.72 27.7283C18.1155 27.9253 18.5715 28.08 18.9357 28.1407C19.0784 28.1644 20.0161 28.1967 21.0193 28.2123C22.0226 28.228 22.9537 28.2438 23.0886 28.2475V28.2475C23.2229 28.2511 23.3338 28.1433 23.3338 28.0089V17.6368ZM18.8401 14.8617C18.5174 14.7606 18.1731 14.5419 17.8769 14.2499C17.6329 14.0093 17.5435 13.8848 17.3865 13.567V13.567C17.2603 13.3115 17.1951 13.0301 17.196 12.745L17.1964 12.606C17.1981 12.0879 17.2078 12.0084 17.2993 11.769C17.5285 11.1693 17.8763 10.7746 18.4289 10.4871C18.8135 10.287 19.1116 10.2094 19.4957 10.2094C19.909 10.2094 20.1559 10.2666 20.5455 10.4527C21.1609 10.7465 21.6498 11.351 21.8229 12.0319C21.8993 12.3324 21.899 12.8748 21.8224 13.169C21.6238 13.9313 21.0138 14.5635 20.21 14.84C20.0327 14.901 19.8861 14.9162 19.4931 14.9141C19.2113 14.9126 18.9308 14.8901 18.8401 14.8617ZM28.0164 30.2097C27.9387 30.0891 27.9019 19.0008 27.9495 9.98492L27.9687 6.35067C27.9725 5.62114 28.5565 5.02729 29.2858 5.0112V5.0112C31.0006 4.97338 32.8632 5.03467 33.3436 5.14474C35.1047 5.54827 36.5605 6.58115 37.4984 8.09261C38.0118 8.91993 38.3335 9.87885 38.3995 10.7782C38.4469 11.424 38.4446 23.5147 38.397 24.351C38.3553 25.0831 38.2841 25.4425 38.0705 26.0014C37.5634 27.3278 36.6362 28.4804 35.4748 29.2281C34.8325 29.6416 33.9901 29.9786 33.1917 30.1415C32.7896 30.2235 32.6479 30.2288 30.4094 30.2453C28.4567 30.2598 28.0448 30.2536 28.0164 30.2097ZM33.4691 21.3701C34.2533 21.2039 34.9595 20.5863 35.2841 19.7826C35.5512 19.1213 35.4739 18.2349 35.0928 17.5882C34.888 17.2408 34.4647 16.8428 34.0973 16.6524C33.7012 16.4471 33.3792 16.3693 32.925 16.3693C32.2307 16.3693 31.6858 16.5847 31.1855 17.0568C30.6817 17.5323 30.4491 18.0275 30.4074 18.713C30.3769 19.216 30.4412 19.5818 30.6279 19.9667C30.8984 20.5244 31.3047 20.918 31.8947 21.1941C32.374 21.4184 32.9416 21.4818 33.4691 21.3701Z"
                  fill="white"
                />
              </svg>
            </div>
            <img src={item.image_path} />
            <div className="item-name p-4 tfont-light">{item.name}</div>
          </div>
        </SwiperSlide>
      ))}
    </Swiper>
  );
};

export default ProductSlider;
